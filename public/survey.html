<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://unpkg.com/jquery"></script>
<script src="https://surveyjs.azureedge.net/1.0.49/survey.jquery.js"></script>
<link href="https://surveyjs.azureedge.net/1.0.49/survey.css" type="text/css" rel="stylesheet" />
<link rel="stylesheet" href="./index.css">

</head>

<body>
  <h1 id="title">Friend Finder</h1>
  <h3 id="instructions"> Please answer the following 10 questions honestly. When the answers are complete, we'll do our
    best to match you up with your soulmate.</h3>
  <div id="surveyElement"></div>
  <div id="surveyResult"></div>

  <script type="text/javascript" src="../app/Data/friends.js"></script>

</body>


<script>
  Survey
    .StylesManager
    .applyTheme("default");
  var json = {

    pages: [{
      questions: [

        {
          name: "name",
          type: "text",
          title: "Please enter your name:",
          placeHolder: "Jon Snow",
          isRequired: true
        },
        {
          type: "file",
          title: "Please upload your photo",
          name: "image",
          storeDataAsText: false,
          showPreview: true,
          imageWidth: 150,
          maxSize: 102400,
          // isRequired: true,
        },

        {
          type: "rating",
          name: "intelligence",
          title: "I think Donald Trump is the best thing since sliced bread.",
          mininumRateDescription: "Strongly Disagree",
          maximumRateDescription: "Strongly Agree",
          isRequired: true,
        },
        {
          type: "rating",
          name: "Obviousness",
          title: "I think computer programmers are awesome.",
          mininumRateDescription: "Strongly Disagree",
          maximumRateDescription: "Strongly Agree",
          isRequired: true,
        },
        {
          type: "rating",
          name: "Refinementism",
          title: "I don't like chocolate.",
          mininumRateDescription: "Strongly Disagree",
          maximumRateDescription: "Strongly Agree",
          isRequired: true,
        },
        {
          type: "rating",
          name: "Boringness",
          title: "All work and no play makes jack a dull boy.",
          mininumRateDescription: "Strongly Disagree",
          maximumRateDescription: "Strongly Agree",
          isRequired: true,
        },
        {
          type: "rating",
          name: "Recreationalism",
          title: "The worst thing about Great Adventure is the prices.",
          mininumRateDescription: "Strongly Disagree",
          maximumRateDescription: "Strongly Agree",
          isRequired: true,
        },
        {
          type: "rating",
          name: "Phillyness",
          title: "The only appropriate place for processed cheese food is on a cheesesteak, and there (and only there) no other cheese should be substituted.",
          mininumRateDescription: "Strongly Disagree",
          maximumRateDescription: "Strongly Agree",
          isRequired: true,
        },
        {
          type: "rating",
          name: "Gkrness/Britishness/Musicness",
          title: "I like marmalade.",
          mininumRateDescription: "Strongly Disagree",
          maximumRateDescription: "Strongly Agree",
          isRequired: true,
        },
        {
          type: "rating",
          name: "Brickness",
          title: "I love lamp.",
          mininumRateDescription: "Strongly Disagree",
          maximumRateDescription: "Strongly Agree",
          isRequired: true,
        },
        {
          type: "rating",
          name: "Religiosity",
          title: "All heathens should be burned at the stake.",
          mininumRateDescription: "Strongly Disagree",
          maximumRateDescription: "Strongly Agree",
          isRequired: true,
        },
        {
          type: "rating",
          name: "Geekness",
          title: "Bowties are cool",
          mininumRateDescription: "Strongly Disagree",
          maximumRateDescription: "Strongly Agree",
          isRequired: true,
        },
        {
          type: "text",
          name: "Email",
          title: "Thank you for taking the time to tell us more about yourself. Your survey is almost complete, please enter your email address if you'd like your soulmate to be able to reach you."
        }
      ]
    }]
  }


  window.survey = new Survey.Model(json);

  survey
    .onComplete
    .add(function (result) {
      document
        .querySelector('#surveyResult')
      console.log("result: " + JSON.stringify(result.data, null, 2));
      
    });


        // survey.onUploadFiles.add((survey, options) => {}

    // var formData = new FormData();
    // options.files.forEach(function(file) {
    //     formData.append(file.name, file);
    // });
    // $.ajax({
    //     url: "/api/MySurveys/uploadFiles", 
    //     type: "POST",
    //     xhr: function () {
    //         var myXhr = $.ajaxSettings.xhr();
    //         if (myXhr.upload) {
    //             myXhr.upload.addEventListener('progress', function (event) {
    //                 var percent = 0;
    //                 var position = event.loaded || event.position;
    //                 var total = event.total;
    //             }, false);
    //         }
    //         return myXhr;
    //     },
    //     success: function (data) {
    //         options.callback("success",
    //             options.files.map(file => {
    //                 return { file: file, content: "/api/MySurveys/files?name=" + data[file.name] };
    //             })
    //         );
    //     },
    //     error: function (error) {
    //     },
    //     async: true,
    //     data: formData,
    //     cache: false,
    //     contentType: false,
    //     processData: false,
    //     timeout: 60000
    // });
;

  $("#surveyElement").Survey({
    model: survey
  });
</script>